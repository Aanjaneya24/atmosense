(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{34:function(e,t,a){e.exports=a.p+"static/media/WeatherIcons.0a218296.gif"},38:function(e,t,a){e.exports=a(78)},43:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(10),o=a.n(c),i=(a(43),a(8)),s=a(16),l=a.n(s),u=a(29),m=a(30),d=a(31),h=a(37),p=a(36),g=a(9),y=a.n(g),b=a(32),f=a.n(b),E=a(33),v=a.n(E),w=a(11),k=a.n(w);var j=function(){var e=Object(n.useState)("Delhi"),t=Object(i.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(""),s=Object(i.a)(o,2),l=s[0],u=s[1],m=Object(n.useState)({}),d=Object(i.a)(m,2),h=d[0],p=d[1],g=Object(n.useState)("CLEAR_DAY"),b=Object(i.a)(g,2),f=b[0],E=b[1],w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a;v.a.get("".concat(y.a.base,"weather?q=").concat(e,"&units=metric&APPID=").concat(y.a.key)).then((function(e){var t=e.data;p(t),c("");var a="CLEAR_DAY";switch(t.weather[0].main){case"Clouds":a="CLOUDY";break;case"Rain":a="RAIN";break;case"Snow":a="SNOW";break;case"Haze":a="CLEAR_DAY";break;case"Drizzle":a="SLEET";break;case"Fog":case"Smoke":a="FOG";break;case"Dust":case"Tornado":a="WIND";break;default:a="CLEAR_DAY"}E(a),u("")})).catch((function(){u({message:"Not Found",query:a}),p({})}))};Object(n.useEffect)((function(){w("Delhi")}),[]);var j="white",C=112,N=!0;return r.a.createElement("div",{className:"forecast"},r.a.createElement("div",{className:"forecast-icon"},r.a.createElement(k.a,{icon:f,color:j,size:C,animate:N})),r.a.createElement("div",{className:"today-weather"},r.a.createElement("h3",null,h.weather?h.weather[0].main:"Weather Info"),r.a.createElement("div",{className:"search-box"},r.a.createElement("input",{type:"text",className:"search-bar",placeholder:"Search any city",onChange:function(e){return c(e.target.value)},value:a,onKeyPress:function(e){return"Enter"===e.key&&w()}}),r.a.createElement("div",{className:"img-box"},r.a.createElement("img",{src:"https://images.avishkaar.cc/workflow/newhp/search-white.png",onClick:function(){return w()},alt:"search",style:{cursor:"pointer"}}))),r.a.createElement("ul",null,"undefined"!==typeof h.main?r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"cityHead"},r.a.createElement("p",null,h.name,", ",h.sys.country),r.a.createElement("img",{className:"temp",src:"https://openweathermap.org/img/wn/".concat(h.weather[0].icon,"@2x.png"),alt:"weather icon",style:{width:"40px",height:"40px"}})),r.a.createElement("li",null,"Temperature",r.a.createElement("span",{className:"temp"},Math.round(h.main.temp),"\xb0C")),r.a.createElement("li",null,"Humidity",r.a.createElement("span",{className:"temp"},Math.round(h.main.humidity),"%")),r.a.createElement("li",null,"Visibility",r.a.createElement("span",{className:"temp"},Math.round(h.visibility/1e3)," km")),r.a.createElement("li",null,"Wind Speed",r.a.createElement("span",{className:"temp"},Math.round(h.wind.speed)," km/h"))):r.a.createElement("li",{className:"cityHead",style:{color:"crimson"}},l.query," - ",l.message))))},C=a(34),N=a.n(C);var D=a(81),S=a(82),A=a(80),O=a(83),F=(a(28),a(4)),x=a.n(F);delete x.a.Icon.Default.prototype._getIconUrl,x.a.Icon.Default.mergeOptions({iconRetinaUrl:a(72),iconUrl:a(73),shadowUrl:a(74)});var W=function(e){var t=e.lat,a=e.lon,n=e.city;return r.a.createElement("div",{className:"weather-map-container",style:{height:"200px",width:"100%",marginTop:"20px"}},r.a.createElement(D.a,{center:[t,a],zoom:10,scrollWheelZoom:!1,className:"leaflet-container"},r.a.createElement(S.a,{attribution:'\xa9 <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),r.a.createElement(A.a,{position:[t,a]},r.a.createElement(O.a,null,"\ud83d\udccd ",n||"Your Location"))))},z="white",I=112,R=!0,L=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).state={lat:void 0,lon:void 0,temperatureC:void 0,temperatureF:void 0,city:void 0,country:void 0,humidity:void 0,description:void 0,icon:"CLEAR_DAY",main:void 0,clothingTip:"",weeklyForecast:[]},e.getPosition=function(e){return new Promise((function(t,a){navigator.geolocation.getCurrentPosition(t,a,e)}))},e.getWeather=function(){var t=Object(u.a)(l.a.mark((function t(a,n){var r,c,o,s,u,m,d,h,p,g;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(y.a.base,"weather?lat=").concat(a,"&lon=").concat(n,"&units=metric&APPID=").concat(y.a.key));case 3:return r=t.sent,t.next=6,r.json();case 6:return c=t.sent,t.next=9,fetch("".concat(y.a.base,"forecast?lat=").concat(a,"&lon=").concat(n,"&units=metric&appid=").concat(y.a.key));case 9:return o=t.sent,t.next=12,o.json();case 12:s=t.sent,u={},s.list.forEach((function(e){var t=e.dt_txt.split(" ")[0];u[t]||(u[t]=[]),u[t].push(e.main.temp)})),m=Object.entries(u).slice(1,8).map((function(e){var t=Object(i.a)(e,2),a=t[0],n=t[1];return{date:a,avgTemp:n.reduce((function(e,t){return e+t}),0)/n.length}})),d=c.main.temp,h="CLEAR_DAY",p=c.weather[0].main,t.t0=p,t.next="Haze"===t.t0?22:"Clouds"===t.t0?24:"Rain"===t.t0?26:"Snow"===t.t0?28:"Dust"===t.t0||"Tornado"===t.t0?30:"Drizzle"===t.t0?32:"Fog"===t.t0||"Smoke"===t.t0?34:36;break;case 22:return h="CLEAR_DAY",t.abrupt("break",37);case 24:return h="CLOUDY",t.abrupt("break",37);case 26:return h="RAIN",t.abrupt("break",37);case 28:return h="SNOW",t.abrupt("break",37);case 30:return h="WIND",t.abrupt("break",37);case 32:return h="SLEET",t.abrupt("break",37);case 34:return h="FOG",t.abrupt("break",37);case 36:h="CLEAR_DAY";case 37:g="",g=d>=35?"Clear"===p?"\ud83d\udd25 Scorching sun! Wear sleeveless shirts, use sunscreen & drink lots of water \ud83d\udca7\ud83d\udd76\ufe0f":"Clouds"===p?"\ud83c\udf24\ufe0f It's hot and cloudy \u2014 wear light cottons and stay hydrated \ud83d\udc55\u2601\ufe0f":"\ud83e\udd75 Hot! Light breathable clothes and protection from heat recommended \ud83d\udc55\ud83e\udde2":d>=30?"Clouds"===p?"\ud83c\udf26\ufe0f Hot but cloudy \u2014 carry an umbrella and wear sandals or waterproof shoes \u2614\ud83d\udc5f":"\ud83d\ude0e Sunny day! Cotton clothes and shades are ideal \ud83d\udc55\ud83e\udde2":d>=22?"Clouds"===p?"\u26c5 Comfortable and cloudy \u2014 a t-shirt with jeans or joggers is perfect \ud83d\udc55\ud83d\udc56":"\ud83c\udf24\ufe0f Pleasant day \u2014 t-shirt or polo with jeans will work well \ud83d\udc55\ud83d\udc56":d>=15?"Rain"===p?"\ud83c\udf27\ufe0f Chilly and rainy \u2014 wear a light jacket and carry an umbrella \ud83e\udde5\u2614":"\ud83c\udf43 Slightly cool \u2014 hoodie or light jacket should do \ud83e\udde5\ud83e\udde2":d>=8?["Fog","Haze"].includes(p)?"\ud83c\udf2b\ufe0f Foggy cold \u2014 wear a warm sweater and cover your neck \ud83e\udde3\ud83e\udde5":"\ud83e\udd76 Cold! Time for sweaters and scarves \ud83e\udde3\ud83e\udde5":d>=0?"Snow"===p?"\u2744\ufe0f Snowy weather! Wear insulated jackets, gloves, and boots \ud83e\udde4\ud83e\udde3\ud83e\udde5":"\ud83e\udd76 Very cold \u2014 layer up with thermal wear and a jacket \ud83e\udde4\ud83e\udde5":"\ud83e\uddca Freezing! Heavy winter gear is essential \u2014 coat, gloves, scarf, the works \ud83e\udde5\ud83e\udde4\ud83e\udde3",e.setState({lat:a,lon:n,city:c.name,country:c.sys.country,temperatureC:Math.round(d),temperatureF:Math.round(1.8*d+32),humidity:c.main.humidity,main:p,icon:h,clothingTip:g,weeklyForecast:m}),t.next=45;break;case 42:t.prev=42,t.t1=t.catch(0),console.error("Weather fetch failed:",t.t1.message);case 45:case"end":return t.stop()}}),t,null,[[0,42]])})));return function(e,a){return t.apply(this,arguments)}}(),e.handleBackgroundClick=function(e){e.target.classList.contains("city")&&console.log("Background clicked. You can trigger background change here.")},e.renderForecastCard=function(){return r.a.createElement("div",{className:"forecast-card"},e.state.weeklyForecast.map((function(e,t){var a=new Date(e.date);return r.a.createElement("div",{key:t,className:"forecast-day"},r.a.createElement("span",null,a.toLocaleDateString("en-US",{weekday:"short"})),r.a.createElement("span",null,Math.round(e.avgTemp),"\xb0C"))})))},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;navigator.geolocation?this.getPosition().then((function(t){e.getWeather(t.coords.latitude,t.coords.longitude)})).catch((function(t){alert("Location access denied. Showing weather for Delhi."),e.getWeather(28.67,77.22)})):alert("Geolocation not available"),this.timerID=setInterval((function(){e.state.lat&&e.state.lon&&e.getWeather(e.state.lat,e.state.lon)}),6e5)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timerID)}},{key:"render",value:function(){var e,t,a,n=this.state,c=n.temperatureC,o=n.main,i=o?{backgroundImage:"url(".concat((e=o,"/images/weather-bg/".concat({Clear:"clear.jpg",Clouds:"clouds.jpg",Rain:"rain.jpg",Thunderstorm:"thunderstorm.jpg",Snow:"snow.jpg",Drizzle:"drizzle.jpg",Mist:"mist.jpg",Haze:"haze.jpg",Fog:"fog.jpg",Smoke:"smoke.jpg",Dust:"dust.jpg",Sand:"sand.jpg",Ash:"ash.jpg",Squall:"squall.jpg",Tornado:"tornado.jpg"}[e]||"default.jpg")),")"),backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center",transition:"background-image 0.5s ease-in-out"}:{};return void 0!==c?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"city",style:i,onClick:this.handleBackgroundClick},r.a.createElement("div",{className:"title"},r.a.createElement("h2",null,this.state.city,", ",{IN:"India",US:"United States",GB:"United Kingdom",AU:"Australia",CA:"Canada",FR:"France",DE:"Germany",JP:"Japan",CN:"China",BR:"Brazil"}[a=this.state.country]||a)),r.a.createElement("div",{style:{margin:"0 auto",marginBottom:"20px"}},this.renderForecastCard(),r.a.createElement(W,{lat:this.state.lat,lon:this.state.lon,city:this.state.city})),r.a.createElement("div",{className:"mb-icon"},r.a.createElement(k.a,{icon:this.state.icon,color:z,size:I,animate:R}),r.a.createElement("p",null,this.state.main)),r.a.createElement("div",{className:"date-time"},r.a.createElement("div",{className:"dmy"},r.a.createElement("div",{className:"current-time"},r.a.createElement(f.a,{format:"HH:mm:ss",interval:1e3,ticking:!0})),r.a.createElement("div",{className:"current-date"},(t=new Date,"".concat(["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][t.getDay()],", ").concat(t.getDate()," ").concat(["January","February","March","April","May","June","July","August","September","October","November","December"][t.getMonth()]," ").concat(t.getFullYear())))),r.a.createElement("div",{className:"temperature"},r.a.createElement("p",null,c,"\xb0",r.a.createElement("span",null,"C")))),r.a.createElement("div",{className:"clothing-tip"},r.a.createElement("p",null,this.state.clothingTip))),r.a.createElement(j,{icon:this.state.icon,weather:this.state.main})):r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{src:N.a,alt:"loading",style:{width:"50%",WebkitUserDrag:"none"}}),r.a.createElement("h3",{style:{color:"white",fontSize:"22px",fontWeight:"600"}},"Detecting your location"),r.a.createElement("h3",{style:{color:"white",marginTop:"10px"}},"Your current location will be displayed on the App ",r.a.createElement("br",null),"& used for real-time weather."))}}]),a}(r.a.Component);a(77);var M=function(){var e=Object(n.useState)(1),t=Object(i.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){var e=Math.floor(10*Math.random())+1;c(e)}),[]),r.a.createElement("div",{onClick:function(){c((function(e){return e%10+1}))}},r.a.createElement("div",{className:"background-wrapper",style:{backgroundImage:"url(./images/weather-bg/background".concat(a,".jpg)")}}),r.a.createElement("div",{className:"container"},r.a.createElement(L,null)),r.a.createElement("footer",{className:"footer-info"},r.a.createElement("span",{className:"quote"},'"Weather your day smartly \u2013 with Atmosense \u26c5"'),r.a.createElement("span",{className:"divider"},"|"),r.a.createElement("span",{className:"author"},"Designed by"," ",r.a.createElement("a",{href:"https://github.com/Aanjaneya24",target:"_blank",rel:"noopener noreferrer"},"Aanjaneya Pandey")," ","| Powered by"," ",r.a.createElement("a",{href:"https://openweathermap.org/",target:"_blank",rel:"noopener noreferrer"},"OpenWeather"))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(M,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},9:function(e,t){e.exports={key:"64efb07bee906ab846ee23a448f62b06",base:"https://api.openweathermap.org/data/2.5/"}}},[[38,1,2]]]);
//# sourceMappingURL=main.5f9dc675.chunk.js.map